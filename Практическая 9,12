import 'package:flutter/material.dart';

void main() {
  runApp(MaterialApp(
      home:  Scaffold(
        body: UsersList(),
        appBar: AppBar(title: Text("METANIT.COM")),)
  ));
}

class UsersList extends StatefulWidget {
  const UsersList({super.key});

  @override
  
  _UsersListState createState() => _UsersListState();
}
class _UsersListState extends State<UsersList> {
  final List<String> users = ["Tom", "Alice", "Sam", "Bob", "Kate"];
  int selectedIndex = -1;

  @override
  Widget build(BuildContext context) {
    return Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Text(
              selectedIndex==-1?"Не выбрано": "Выбрано: ${users[selectedIndex]}",
              style: TextStyle(fontSize: 30)),
          Expanded(child: ListView.builder(
            itemCount: users.length,
            itemBuilder: _createListView,
          ))
        ]);
  }

  Widget _createListView(BuildContext context, int index) {
    return GestureDetector(
      onTap: () {
        setState(() {
          
          selectedIndex = index;
        });
      },
      child: Container(
        margin: EdgeInsets.symmetric(vertical: 4),
        padding: EdgeInsets.symmetric(vertical: 8),
        color: index == selectedIndex ? Colors.black12: Colors.white60,
        child: Text(users[index], style: TextStyle(fontSize: 24)),
      ),
    );
  }
}
